import{r,V as T,R as x}from"./iframe-CLu2jDQX.js";import{j as g}from"./jsx-runtime-D_zvdyIk.js";import{u as h,c as O}from"./index-DjtiqYuW.js";function G(e,t,{checkForDefaultPrevented:n=!0}={}){return function(o){if(e?.(o),n===!1||!o.defaultPrevented)return t?.(o)}}function _(e,t=[]){let n=[];function c(i,d){const s=r.createContext(d),a=n.length;n=[...n,d];const u=f=>{const{scope:C,children:m,...v}=f,N=C?.[e]?.[a]||s,p=r.useMemo(()=>v,Object.values(v));return g.jsx(N.Provider,{value:p,children:m})};u.displayName=i+"Provider";function l(f,C){const m=C?.[e]?.[a]||s,v=r.useContext(m);if(v)return v;if(d!==void 0)return d;throw new Error(`\`${f}\` must be used within \`${i}\``)}return[u,l]}const o=()=>{const i=n.map(d=>r.createContext(d));return function(s){const a=s?.[e]||i;return r.useMemo(()=>({[`__scope${e}`]:{...s,[e]:a}}),[s,a])}};return o.scopeName=e,[c,b(o,...t)]}function b(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const c=e.map(o=>({useScope:o(),scopeName:o.scopeName}));return function(i){const d=c.reduce((s,{useScope:a,scopeName:u})=>{const f=a(i)[`__scope${u}`];return{...s,...f}},{});return r.useMemo(()=>({[`__scope${t.scopeName}`]:d}),[d])}};return n.scopeName=t.scopeName,n}var P=globalThis?.document?r.useLayoutEffect:()=>{},D=T[" useInsertionEffect ".trim().toString()]||P;function J({prop:e,defaultProp:t,onChange:n=()=>{},caller:c}){const[o,i,d]=U({defaultProp:t,onChange:n}),s=e!==void 0,a=s?e:o;{const l=r.useRef(e!==void 0);r.useEffect(()=>{const f=l.current;f!==s&&console.warn(`${c} is changing from ${f?"controlled":"uncontrolled"} to ${s?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),l.current=s},[s,c])}const u=r.useCallback(l=>{if(s){const f=L(l)?l(e):l;f!==e&&d.current?.(f)}else i(l)},[s,e,i,d]);return[a,u]}function U({defaultProp:e,onChange:t}){const[n,c]=r.useState(e),o=r.useRef(n),i=r.useRef(t);return D(()=>{i.current=t},[t]),r.useEffect(()=>{o.current!==n&&(i.current?.(n),o.current=n)},[n,o]),[n,c,i]}function L(e){return typeof e=="function"}function K(e){const t=e+"CollectionProvider",[n,c]=_(t),[o,i]=n(t,{collectionRef:{current:null},itemMap:new Map}),d=N=>{const{scope:p,children:E}=N,R=x.useRef(null),S=x.useRef(new Map).current;return g.jsx(o,{scope:p,itemMap:S,collectionRef:R,children:E})};d.displayName=t;const s=e+"CollectionSlot",a=O(s),u=x.forwardRef((N,p)=>{const{scope:E,children:R}=N,S=i(s,E),M=h(p,S.collectionRef);return g.jsx(a,{ref:M,children:R})});u.displayName=s;const l=e+"CollectionItemSlot",f="data-radix-collection-item",C=O(l),m=x.forwardRef((N,p)=>{const{scope:E,children:R,...S}=N,M=x.useRef(null),y=h(p,M),A=i(l,E);return x.useEffect(()=>(A.itemMap.set(M,{ref:M,...S}),()=>void A.itemMap.delete(M))),g.jsx(C,{[f]:"",ref:y,children:R})});m.displayName=l;function v(N){const p=i(e+"CollectionConsumer",N);return x.useCallback(()=>{const R=p.collectionRef.current;if(!R)return[];const S=Array.from(R.querySelectorAll(`[${f}]`));return Array.from(p.itemMap.values()).sort((A,w)=>S.indexOf(A.ref.current)-S.indexOf(w.ref.current))},[p.collectionRef,p.itemMap])}return[{Provider:d,Slot:u,ItemSlot:m},v,c]}var $=r.createContext(void 0);function Q(e){const t=r.useContext($);return e||t||"ltr"}var j=T[" useId ".trim().toString()]||(()=>{}),F=0;function X(e){const[t,n]=r.useState(j());return P(()=>{n(c=>c??String(F++))},[e]),e||(t?`radix-${t}`:"")}function W(e,t){return r.useReducer((n,c)=>t[n][c]??n,e)}var k=e=>{const{present:t,children:n}=e,c=V(t),o=typeof n=="function"?n({present:c.isPresent}):r.Children.only(n),i=h(c.ref,H(o));return typeof n=="function"||c.isPresent?r.cloneElement(o,{ref:i}):null};k.displayName="Presence";function V(e){const[t,n]=r.useState(),c=r.useRef(null),o=r.useRef(e),i=r.useRef("none"),d=e?"mounted":"unmounted",[s,a]=W(d,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return r.useEffect(()=>{const u=I(c.current);i.current=s==="mounted"?u:"none"},[s]),P(()=>{const u=c.current,l=o.current;if(l!==e){const C=i.current,m=I(u);e?a("MOUNT"):m==="none"||u?.display==="none"?a("UNMOUNT"):a(l&&C!==m?"ANIMATION_OUT":"UNMOUNT"),o.current=e}},[e,a]),P(()=>{if(t){let u;const l=t.ownerDocument.defaultView??window,f=m=>{const N=I(c.current).includes(m.animationName);if(m.target===t&&N&&(a("ANIMATION_END"),!o.current)){const p=t.style.animationFillMode;t.style.animationFillMode="forwards",u=l.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=p)})}},C=m=>{m.target===t&&(i.current=I(c.current))};return t.addEventListener("animationstart",C),t.addEventListener("animationcancel",f),t.addEventListener("animationend",f),()=>{l.clearTimeout(u),t.removeEventListener("animationstart",C),t.removeEventListener("animationcancel",f),t.removeEventListener("animationend",f)}}else a("ANIMATION_END")},[t,a]),{isPresent:["mounted","unmountSuspended"].includes(s),ref:r.useCallback(u=>{c.current=u?getComputedStyle(u):null,n(u)},[])}}function I(e){return e?.animationName||"none"}function H(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}export{k as P,X as a,G as b,_ as c,P as d,K as e,Q as f,J as u};
