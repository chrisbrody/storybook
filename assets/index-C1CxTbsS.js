import{r as c,V as w,R as A}from"./iframe-B5IFRAMT.js";import{u as g,c as D}from"./index-DpYGKYnJ.js";import{u as T,c as h}from"./index-qkp8O1ra.js";import{j as y}from"./jsx-runtime-D_zvdyIk.js";function G(t,e,{checkForDefaultPrevented:n=!0}={}){return function(r){if(t?.(r),n===!1||!r.defaultPrevented)return e?.(r)}}var U=w[" useInsertionEffect ".trim().toString()]||g;function J({prop:t,defaultProp:e,onChange:n=()=>{},caller:o}){const[r,i,N]=_({defaultProp:e,onChange:n}),l=t!==void 0,f=l?t:r;{const s=c.useRef(t!==void 0);c.useEffect(()=>{const a=s.current;a!==l&&console.warn(`${o} is changing from ${a?"controlled":"uncontrolled"} to ${l?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),s.current=l},[l,o])}const u=c.useCallback(s=>{if(l){const a=L(s)?s(t):s;a!==t&&N.current?.(a)}else i(s)},[l,t,i,N]);return[f,u]}function _({defaultProp:t,onChange:e}){const[n,o]=c.useState(t),r=c.useRef(n),i=c.useRef(e);return U(()=>{i.current=e},[e]),c.useEffect(()=>{r.current!==n&&(i.current?.(n),r.current=n)},[n,r]),[n,o,i]}function L(t){return typeof t=="function"}function K(t){const e=t+"CollectionProvider",[n,o]=D(e),[r,i]=n(e,{collectionRef:{current:null},itemMap:new Map}),N=p=>{const{scope:d,children:I}=p,R=A.useRef(null),C=A.useRef(new Map).current;return y.jsx(r,{scope:d,itemMap:C,collectionRef:R,children:I})};N.displayName=e;const l=t+"CollectionSlot",f=h(l),u=A.forwardRef((p,d)=>{const{scope:I,children:R}=p,C=i(l,I),M=T(d,C.collectionRef);return y.jsx(f,{ref:M,children:R})});u.displayName=l;const s=t+"CollectionItemSlot",a="data-radix-collection-item",v=h(s),m=A.forwardRef((p,d)=>{const{scope:I,children:R,...C}=p,M=A.useRef(null),P=T(d,M),S=i(s,I);return A.useEffect(()=>(S.itemMap.set(M,{ref:M,...C}),()=>void S.itemMap.delete(M))),y.jsx(v,{[a]:"",ref:P,children:R})});m.displayName=s;function O(p){const d=i(t+"CollectionConsumer",p);return A.useCallback(()=>{const R=d.collectionRef.current;if(!R)return[];const C=Array.from(R.querySelectorAll(`[${a}]`));return Array.from(d.itemMap.values()).sort((S,x)=>C.indexOf(S.ref.current)-C.indexOf(x.ref.current))},[d.collectionRef,d.itemMap])}return[{Provider:N,Slot:u,ItemSlot:m},O,o]}var b=c.createContext(void 0);function Q(t){const e=c.useContext(b);return t||e||"ltr"}var j=w[" useId ".trim().toString()]||(()=>{}),F=0;function X(t){const[e,n]=c.useState(j());return g(()=>{n(o=>o??String(F++))},[t]),t||(e?`radix-${e}`:"")}function W(t,e){return c.useReducer((n,o)=>e[n][o]??n,t)}var $=t=>{const{present:e,children:n}=t,o=V(e),r=typeof n=="function"?n({present:o.isPresent}):c.Children.only(n),i=T(o.ref,k(r));return typeof n=="function"||o.isPresent?c.cloneElement(r,{ref:i}):null};$.displayName="Presence";function V(t){const[e,n]=c.useState(),o=c.useRef(null),r=c.useRef(t),i=c.useRef("none"),N=t?"mounted":"unmounted",[l,f]=W(N,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return c.useEffect(()=>{const u=E(o.current);i.current=l==="mounted"?u:"none"},[l]),g(()=>{const u=o.current,s=r.current;if(s!==t){const v=i.current,m=E(u);t?f("MOUNT"):m==="none"||u?.display==="none"?f("UNMOUNT"):f(s&&v!==m?"ANIMATION_OUT":"UNMOUNT"),r.current=t}},[t,f]),g(()=>{if(e){let u;const s=e.ownerDocument.defaultView??window,a=m=>{const p=E(o.current).includes(m.animationName);if(m.target===e&&p&&(f("ANIMATION_END"),!r.current)){const d=e.style.animationFillMode;e.style.animationFillMode="forwards",u=s.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=d)})}},v=m=>{m.target===e&&(i.current=E(o.current))};return e.addEventListener("animationstart",v),e.addEventListener("animationcancel",a),e.addEventListener("animationend",a),()=>{s.clearTimeout(u),e.removeEventListener("animationstart",v),e.removeEventListener("animationcancel",a),e.removeEventListener("animationend",a)}}else f("ANIMATION_END")},[e,f]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:c.useCallback(u=>{o.current=u?getComputedStyle(u):null,n(u)},[])}}function E(t){return t?.animationName||"none"}function k(t){let e=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=Object.getOwnPropertyDescriptor(t,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}export{$ as P,X as a,K as b,G as c,Q as d,J as u};
