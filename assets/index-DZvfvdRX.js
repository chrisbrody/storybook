import{r as i,V as T,R as p}from"./iframe-8lbtTc7c.js";import{u as g,c as D}from"./index-Bmq0H09p.js";import{u as N,c as w}from"./index-Cn_L8oLb.js";import{j as M}from"./jsx-runtime-D_zvdyIk.js";function U(e,t,{checkForDefaultPrevented:o=!0}={}){return function(n){if(e?.(n),o===!1||!n.defaultPrevented)return t?.(n)}}var O=T[" useInsertionEffect ".trim().toString()]||g;function q({prop:e,defaultProp:t,onChange:o=()=>{},caller:d}){const[n,s,v]=_({defaultProp:t,onChange:o}),c=e!==void 0,I=c?e:n;{const r=i.useRef(e!==void 0);i.useEffect(()=>{const u=r.current;u!==c&&console.warn(`${d} is changing from ${u?"controlled":"uncontrolled"} to ${c?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),r.current=c},[c,d])}const S=i.useCallback(r=>{if(c){const u=b(r)?r(e):r;u!==e&&v.current?.(u)}else s(r)},[c,e,s,v]);return[I,S]}function _({defaultProp:e,onChange:t}){const[o,d]=i.useState(e),n=i.useRef(o),s=i.useRef(t);return O(()=>{s.current=t},[t]),i.useEffect(()=>{n.current!==o&&(s.current?.(o),n.current=o)},[o,n]),[o,d,s]}function b(e){return typeof e=="function"}function F(e){const t=e+"CollectionProvider",[o,d]=D(t),[n,s]=o(t,{collectionRef:{current:null},itemMap:new Map}),v=m=>{const{scope:l,children:R}=m,f=p.useRef(null),a=p.useRef(new Map).current;return M.jsx(n,{scope:l,itemMap:a,collectionRef:f,children:R})};v.displayName=t;const c=e+"CollectionSlot",I=w(c),S=p.forwardRef((m,l)=>{const{scope:R,children:f}=m,a=s(c,R),C=N(l,a.collectionRef);return M.jsx(I,{ref:C,children:f})});S.displayName=c;const r=e+"CollectionItemSlot",u="data-radix-collection-item",h=w(r),x=p.forwardRef((m,l)=>{const{scope:R,children:f,...a}=m,C=p.useRef(null),A=N(l,C),E=s(r,R);return p.useEffect(()=>(E.itemMap.set(C,{ref:C,...a}),()=>void E.itemMap.delete(C))),M.jsx(h,{[u]:"",ref:A,children:f})});x.displayName=r;function y(m){const l=s(e+"CollectionConsumer",m);return p.useCallback(()=>{const f=l.collectionRef.current;if(!f)return[];const a=Array.from(f.querySelectorAll(`[${u}]`));return Array.from(l.itemMap.values()).sort((E,P)=>a.indexOf(E.ref.current)-a.indexOf(P.ref.current))},[l.collectionRef,l.itemMap])}return[{Provider:v,Slot:S,ItemSlot:x},y,d]}var j=i.createContext(void 0);function H(e){const t=i.useContext(j);return e||t||"ltr"}export{F as a,H as b,U as c,q as u};
